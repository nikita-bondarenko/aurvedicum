"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[790],{7790:function(a,t,e){e.r(t),e.d(t,{default:function(){return P}});var s=e(3396),n=e(4870),l=e(7139),c=e(9242),i=e(4920),_=e(4460),o=e(9829),d=e(2555);const u={class:"content__top"},r={class:"breadcrumbs"},g={class:"breadcrumbs__item"},m=(0,s.Uk)(" Меню "),b=(0,s._)("li",{class:"breadcrumbs__item"},[(0,s._)("span",{class:"breadcrumbs__link",disabled:""}," Контакты ")],-1),p={class:"catalog content__catalog contact"},h=(0,s.Uk)(" Добавить"),k={key:1,class:"data-base__empty-message"},v={class:"data-base__list"},w={class:"data-base__contact"},f={class:"contact__header"},y={class:"contact__info"},D={class:"contact__list"},C={class:"contact__title"},H={class:"contact__value"},U={class:"contact__phone"},L=(0,s.Uk)("Изменить"),z=["onClick"],W=(0,s._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,s._)("path",{d:"M17 1L1 17m16 0L1 1",stroke:"#9D9D9D","stroke-width":".8"})],-1),Y=[W];var q={__name:"ListPage",setup(a){const{fetchWithParams:t,fetch:e}=(0,i.Z)(),W=(0,n.iH)({limit:6,page:1}),q=(0,n.iH)({}),M=(0,n.iH)([]),P=()=>{t("get","api/contacts",W.value).then((a=>{q.value=a.data.pagination,M.value=a.data.items}))},Z=a=>{e("delete",`api/contacts/${a}`,{},"").then((()=>P()))};return(0,s.YP)((()=>W.value),(()=>P()),{deep:!0,immediate:!0}),(a,t)=>{const e=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",u,[(0,s._)("ul",r,[(0,s._)("li",g,[(0,s.Wm)(e,{to:{name:"adminMenu"},class:"breadcrumbs__link"},{default:(0,s.w5)((()=>[m])),_:1})]),b])]),(0,s._)("section",p,[(0,s.Wm)(e,{to:{name:"adminAddContact"},class:"data-base__button-add"},{default:(0,s.w5)((()=>[h])),_:1}),(0,n.SU)(_.h).isLoading?((0,s.wg)(),(0,s.j4)(o.Z,{key:0})):(0,s.kq)("",!0),0!==M.value.length||(0,n.SU)(_.h).isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",k," Список пуст ")),(0,s._)("ul",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(M.value,(a=>((0,s.wg)(),(0,s.iD)("li",{key:a.id,class:"data-base__item"},[(0,s._)("div",w,[(0,s._)("h3",f,(0,l.zw)(a.header),1),(0,s._)("div",y,[(0,s._)("ul",D,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.body,((a,t)=>(0,s.wy)(((0,s.wg)(),(0,s.iD)("li",{key:t,class:"contact__item"},[(0,s._)("span",C,(0,l.zw)(a.name)+":",1),(0,s._)("span",H,(0,l.zw)(a.value),1)])),[[c.F8,a.value]]))),128))])]),(0,s._)("span",U,(0,l.zw)(a.phone),1),(0,s.Wm)(e,{class:"data-base__change-button",to:{name:"adminChangeContact",params:{id:a.id}}},{default:(0,s.w5)((()=>[L])),_:2},1032,["to"]),(0,s._)("button",{class:"data-base__button-del button-del",type:"button","aria-label":"Удалить товар",onClick:(0,c.iM)((t=>Z(a.id)),["prevent"])},Y,8,z)])])))),128))]),q.value.pages>1?((0,s.wg)(),(0,s.j4)(d.Z,{key:2,class:"catalog__pagination",config:W.value,"onUpdate:config":t[0]||(t[0]=a=>W.value=a),pagination:q.value},null,8,["config","pagination"])):(0,s.kq)("",!0)])],64)}}};const M=q;var P=M}}]);
//# sourceMappingURL=790.dc2a6b8b.js.map