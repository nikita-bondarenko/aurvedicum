"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[874],{9412:function(a,e,l){l.d(e,{Z:function(){return u}});var s=l(3396),i=l(7139),t=l(4870),n=l(8707),c=l(4920),_={__name:"OrderBasketItem",props:["item"],setup(a){const e=a,{getProduct:l}=(0,c.Z)(),_=(0,t.iH)({}),{editVolumeFormat:r,editNumberFormat:u}=(0,n.Z)(),o=(0,t.iH)(!0),d=(0,t.iH)(!1);l({id:e.item.productId}).then((a=>{_.value=a.data})).catch((()=>d.value=!0)).then((()=>o.value=!1));const m=(0,s.Fl)((()=>_.value.volumes?r(_.value.volumes.find((a=>a.id===e.item.volumeId)).volume):""));return(e,l)=>((0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["cart__order",{"spinner-small":o.value,"loading-error":d.value}])},[(0,s._)("h3",null,(0,i.zw)(_.value.name),1),(0,s._)("b",null,(0,i.zw)((0,t.SU)(u)(a.item.price))+" ₽",1),(0,s._)("span",null,"Объем/вес:  "+(0,i.zw)((0,t.SU)(m)),1),(0,s._)("span",null,"Колличество: "+(0,i.zw)((0,t.SU)(u)(a.item.quantity))+" шт.",1)],2))}};const r=_;var u=r},5874:function(a,e,l){l.r(e),l.d(e,{default:function(){return aa}});var s=l(3396),i=l(4870),t=l(7139),n=l(6866),c=l(4920),_=l(9205),r=l(2555),u=l(9412),o=l(8707);const d={class:"content container"},m={class:"content__top"},v={key:0,class:"breadcrumbs"},p={class:"breadcrumbs__item"},k=(0,s.Uk)(" Меню "),b={class:"breadcrumbs__item"},y=(0,s.Uk)(" Заказы "),g=(0,s._)("li",{class:"breadcrumbs__item"},[(0,s._)("span",{class:"breadcrumbs__link"}," Информация о заказе ")],-1),w={key:1,class:"breadcrumbs"},f={class:"breadcrumbs__item"},h=(0,s.Uk)(" Каталог "),U={class:"breadcrumbs__item"},z=(0,s.Uk)(" Корзина "),S=(0,s._)("li",{class:"breadcrumbs__item"},[(0,s._)("span",{class:"breadcrumbs__link"}," Оформление заказа ")],-1),D={key:2,class:"content__title"},I={key:3,class:"content__title"},H={class:"cart"},O={key:1,class:"loading-error"},Z={key:2,class:"cart__form form",action:"#",method:"POST"},P={class:"cart__field"},F={key:0,class:"cart__message"},j={class:"dictionary"},q={class:"dictionary__item"},C=(0,s._)("span",{class:"dictionary__key"}," Получатель ",-1),W={class:"dictionary__value"},M={class:"dictionary__item"},N=(0,s._)("span",{class:"dictionary__key"}," Адрес доставки ",-1),T={class:"dictionary__value"},x={class:"dictionary__item"},A=(0,s._)("span",{class:"dictionary__key"}," Телефон ",-1),B={class:"dictionary__value"},E={class:"dictionary__item"},K=(0,s._)("span",{class:"dictionary__key"}," Email ",-1),Q={class:"dictionary__value"},V={class:"dictionary__item"},Y=(0,s._)("span",{class:"dictionary__key"}," Способ доставки ",-1),G={class:"dictionary__value"},J={class:"cart__orders"},L={class:"cart__total"},R=(0,s.Uk)(" Доставка: ");var X={__name:"OrderInfoPage",setup(a){const{deliveryPriceText:e,pluralizeProductAmount:l,editNumberFormat:X}=(0,o.Z)(),{getOrder:$}=(0,c.Z)(),aa=(0,n.tv)(),ea=(0,n.yj)(),la=localStorage.getItem("orderId");la||aa.push({name:"catalog"});const sa=(0,i.iH)(!0),ia=(0,i.iH)(!1),ta=(0,i.iH)({}),na=(0,i.iH)({limit:5,page:1,pages:1});$(la).then((a=>{ta.value=a.data,na.value.pages=Math.ceil(ta.value.basket.items.length/na.value.limit)})).catch((()=>ia.value=!0)).then((()=>sa.value=!1));const ca=(0,s.Fl)((()=>ta.value.basket.items.slice(na.value.limit*(na.value.page-1),na.value.limit*na.value.page)));return(a,n)=>{const c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("main",d,[(0,s._)("div",m,["adminOrderInfo"===(0,i.SU)(ea).name?((0,s.wg)(),(0,s.iD)("ul",v,[(0,s._)("li",p,[(0,s.Wm)(c,{to:{name:"adminMenu"},class:"breadcrumbs__link"},{default:(0,s.w5)((()=>[k])),_:1})]),(0,s._)("li",b,[(0,s.Wm)(c,{to:{name:"adminOrders"},class:"breadcrumbs__link"},{default:(0,s.w5)((()=>[y])),_:1})]),g])):((0,s.wg)(),(0,s.iD)("ul",w,[(0,s._)("li",f,[(0,s.Wm)(c,{to:{name:"catalog"},class:"breadcrumbs__link"},{default:(0,s.w5)((()=>[h])),_:1})]),(0,s._)("li",U,[(0,s.Wm)(c,{to:{name:"basket"},class:"breadcrumbs__link"},{default:(0,s.w5)((()=>[z])),_:1})]),S])),"adminOrderInfo"===(0,i.SU)(ea).name?((0,s.wg)(),(0,s.iD)("h1",D," Заказ изменен ")):((0,s.wg)(),(0,s.iD)("h1",I,"Заказ оформлен"))]),(0,s._)("section",H,[sa.value?((0,s.wg)(),(0,s.j4)(_.Z,{key:0})):!sa.value&&ia.value?((0,s.wg)(),(0,s.iD)("div",O," Не удалось получить информацию о заказе. ")):sa.value||ia.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("form",Z,[(0,s._)("div",P,["adminOrderInfo"===!(0,i.SU)(ea).name?((0,s.wg)(),(0,s.iD)("p",F," Благодарим за выбор нашего магазина. Наши менеджеры свяжутся с Вами в течение одного рабочего дня для уточнения деталей доставки. ")):(0,s.kq)("",!0),(0,s._)("ul",j,[(0,s._)("li",q,[C,(0,s._)("span",W,(0,t.zw)(ta.value.name),1)]),(0,s._)("li",M,[N,(0,s._)("span",T,(0,t.zw)(ta.value.address),1)]),(0,s._)("li",x,[A,(0,s._)("span",B,(0,t.zw)(ta.value.phone),1)]),(0,s._)("li",E,[K,(0,s._)("span",Q,(0,t.zw)(ta.value.email),1)]),(0,s._)("li",V,[Y,(0,s._)("span",G,(0,t.zw)(ta.value.delivery.title),1)])])]),(0,s._)("div",{class:(0,t.C_)(["cart__block",{indent:na.value.pages>1}])},[na.value.pages>1?((0,s.wg)(),(0,s.j4)(r.Z,{key:0,config:na.value,"onUpdate:config":n[0]||(n[0]=a=>na.value=a),pagination:na.value},null,8,["config","pagination"])):(0,s.kq)("",!0),(0,s._)("ul",J,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,i.SU)(ca),(a=>((0,s.wg)(),(0,s.j4)(u.Z,{key:a.id,item:a},null,8,["item"])))),128))]),(0,s._)("div",L,[(0,s._)("p",null,[R,(0,s._)("b",null,(0,t.zw)((0,i.SU)(e)(ta.value.deliveryPrice)),1)]),(0,s._)("p",null,[(0,s.Uk)(" Итого: "+(0,t.zw)((0,i.SU)(l)(ta.value.basket.itemsQuantity))+" на сумму ",1),(0,s._)("b",null,(0,t.zw)((0,i.SU)(X)(ta.value.price))+" ₽",1)])])],2)]))])])}}};const $=X;var aa=$}}]);
//# sourceMappingURL=874.663d0c33.js.map