{"version":3,"file":"js/13.7c023c35.js","mappings":"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","sources":["webpack://client/./src/components/BaseModal.vue","webpack://client/./src/hooks/useModal.js","webpack://client/./src/components/small/DeleteButton.vue","webpack://client/./src/components/BaseModal.vue?1ce3","webpack://client/./src/components/BaseMessage.vue","webpack://client/./src/components/BaseMessage.vue?9a2b","webpack://client/./src/components/small/BaseCounter.vue","webpack://client/./src/components/small/BaseCounter.vue?a07c","webpack://client/./src/components/catalog/CatalogRecomend.vue","webpack://client/./src/components/catalog/CatalogRecomend.vue?abed","webpack://client/./src/views/ItemPage.vue","webpack://client/./src/views/ItemPage.vue?a1b9"],"sourcesContent":["<template lang=\"\">\n  <teleport v-if=\"open\" to=\"#teleport-target\">\n    <div\n      :class=\"{ 'out-content': isOutContent }\"\n      class=\"teleport-blackout\"\n    ></div>\n    <div class=\"teleport-modal\" @click=\"onOutsideClick\">\n      <div\n        ref=\"contentElement\"\n        @mouseleave=\"isOutContent = true\"\n        @mouseenter=\"isOutContent = false\"\n        class=\"teleport-modal__content\"\n      >\n        <slot></slot>\n        <DeleteButton\n          class=\"teleport-modal__close\"\n          @click=\"doClose\"\n        ></DeleteButton>\n      </div>\n    </div>\n  </teleport>\n</template>\n<script>\n/* eslint-disable */\n\nimport { defineComponent, ref, watch } from 'vue'\nimport useModal from '@/hooks/useModal'\nimport DeleteButton from '@/components/small/DeleteButton.vue'\n\nexport default defineComponent({\n  props: {\n    open: { type: Boolean }\n  },\n  emits: ['update:open'],\n  components: { DeleteButton },\n  setup(props, { emit: $emit }) {\n    const contentElement = ref(null)\n\n    const { doOpen, doClose } = useModal()\n\n    const isOutContent = ref(true)\n\n    const doCloseModal = () => {\n      $emit('update:open', false)\n      doClose()\n    }\n\n    const onOutsideClick = ($event) => {\n      if (\n        $event.target !== contentElement.value &&\n        $event.target.contains(contentElement.value)\n      ) {\n        doCloseModal()\n      }\n    }\n\n    watch(\n      () => props.open,\n      (isOpen) => {\n        if (isOpen) {\n          doOpen()\n        } else {\n          doCloseModal()\n        }\n      },\n      { immediate: true }\n    )\n\n    return {\n      isOutContent,\n      onOutsideClick,\n      doClose: doCloseModal,\n      contentElement\n    }\n  }\n})\n</script>\n<style lang=\"scss\">\n.teleport-blackout {\n  z-index: 1010;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0.75;\n  background-color: #000;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.out-content {\n  opacity: 0.85;\n}\n\n.teleport-modal {\n  cursor: pointer;\n\n  z-index: 1010;\n  overflow: auto;\n  // overflow-y: scroll;\n  display: flex;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 50%;\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  transform: translatex(-50%);\n\n  .form {\n    &__input {\n      padding-top: 15px;\n    }\n  }\n}\n\n.teleport-modal__content {\n  z-index: 1011;\n  cursor: auto;\n  position: relative;\n  margin-top: auto;\n  margin-bottom: auto;\n  padding: 40px;\n  background-color: #fff;\n}\n</style>\n","/* eslint-disable */\nimport {\n  ref, computed, getCurrentInstance, watch,\n} from 'vue';\n\nconst openModalsCount = ref(new Set());\nexport default function () {\n  const { uid } = getCurrentInstance();\n  const isOpen = ref(false);\n\n  const doOpen = () => {\n    isOpen.value = true;\n    openModalsCount.value.add(uid);\n  };\n\n  const doClose = () => {\n    isOpen.value = false;\n    openModalsCount.value.delete(uid);\n  };\n\n  const isSomeOpen = computed(() => !!openModalsCount.value.size);\n\n  const checkBlackoutState = () => {\n    if (!isSomeOpen.value) {\n      document.body.style.overflow = null;\n      document.body.style.paddingRight = null;\n    } else if (isSomeOpen.value) {\n      document.body.style.paddingRight = `${window.innerWidth - document.documentElement.clientWidth}px`;\n      document.body.style.overflow = 'hidden';\n    }\n  };\n\n  watch(isSomeOpen, () => {\n    checkBlackoutState();\n  });\n\n  return {\n    doOpen,\n    doClose,\n    isOpen,\n    isSomeOpen: computed(() => openModalsCount.value.size),\n  };\n}\n","import script from \"./DeleteButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DeleteButton.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DeleteButton.vue?vue&type=style&index=0&id=28877300&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./BaseModal.vue?vue&type=template&id=e31cf964&lang=true\"\nimport script from \"./BaseModal.vue?vue&type=script&lang=js\"\nexport * from \"./BaseModal.vue?vue&type=script&lang=js\"\n\nimport \"./BaseModal.vue?vue&type=style&index=0&id=e31cf964&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\Aurvedicum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <BaseModal v-model:open=\"isOpen\">\r\n    <div class=\"error\" v-if=\"type === 'error'\">{{ text }}</div>\r\n    <div class=\"good-message\" v-else>{{ text }}</div>\r\n  </BaseModal>\r\n</template>\r\n<script setup>\r\n/* eslint-disable no-unused-vars */\r\nimport BaseModal from './BaseModal.vue'\r\nimport { defineProps, defineEmits, computed, watch, onMounted } from 'vue'\r\n\r\nconst props = defineProps({\r\n  open: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  text: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  type: {\r\n    type: String,\r\n    default: 'error'\r\n  }\r\n})\r\nconst emit = defineEmits(['update:open'])\r\nconst isOpen = computed({\r\n  get() {\r\n    return props.open\r\n  },\r\n  set(value) {\r\n    emit('update:open', value)\r\n    return value\r\n  }\r\n})\r\n</script>\r\n<style lang=\"scss\">\r\n.error {\r\n  max-width: 500px;\r\n  color: red;\r\n}\r\n</style>\r\n","import script from \"./BaseMessage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseMessage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BaseMessage.vue?vue&type=style&index=0&id=62b4bcb6&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"form__counter counter\">\r\n    <button\r\n      @click=\"minus\"\r\n      type=\"button\"\r\n      class=\"counter__button button__minus\"\r\n      aria-label=\"Убрать один товар\"\r\n    >\r\n      <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n      <svg\r\n        version=\"1.1\"\r\n        id=\"Capa_1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n        x=\"0px\"\r\n        y=\"0px\"\r\n        viewBox=\"0 0 52.161 52.161\"\r\n        style=\"enable-background: new 0 0 52.161 52.161\"\r\n        xml:space=\"preserve\"\r\n      >\r\n        <g>\r\n          <path\r\n            class=\"button__minus--icon\"\r\n            d=\"M52.161,26.081c0,3.246-2.63,5.875-5.875,5.875H5.875C2.63,31.956,0,29.327,0,26.081l0,0c0-3.245,2.63-5.875,5.875-5.875 h40.411C49.531,20.206,52.161,22.835,52.161,26.081L52.161,26.081z\"\r\n          />\r\n        </g>\r\n      </svg>\r\n    </button>\r\n\r\n    <input\r\n      :class=\"{ 'input--disabled': route.name === 'basket' }\"\r\n      type=\"number\"\r\n      v-model=\"value\"\r\n    />\r\n\r\n    <button\r\n      type=\"button\"\r\n      aria-label=\"Добавить один товар\"\r\n      class=\"counter__button button__plus\"\r\n      @click=\"value += 1\"\r\n    >\r\n      <!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n      <svg\r\n        version=\"1.1\"\r\n        id=\"Capa_1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n        x=\"0px\"\r\n        y=\"0px\"\r\n        width=\"45.402px\"\r\n        height=\"45.402px\"\r\n        viewBox=\"0 0 45.402 45.402\"\r\n        style=\"enable-background: new 0 0 45.402 45.402\"\r\n        xml:space=\"preserve\"\r\n      >\r\n        <g>\r\n          <path\r\n            class=\"button__plus--icon\"\r\n            d=\"M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141c-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27c0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435c2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z\"\r\n          />\r\n        </g>\r\n      </svg>\r\n    </button>\r\n    <BaseMessage\r\n      v-model:open=\"isErrorMax\"\r\n      :text=\"\r\n        route.name === 'item'\r\n          ? 'Вы можете установить только значение, не превышающее количество товара в наличии.'\r\n          : 'Не получилось изменить количество товара в корзине. Товар закончился.'\r\n      \"\r\n    ></BaseMessage>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { defineProps, defineEmits, computed, ref } from 'vue'\r\nimport BaseMessage from '@/components/BaseMessage.vue'\r\nimport { useRoute } from 'vue-router'\r\n\r\nconst props = defineProps(['quantity', 'volume'])\r\nconst emit = defineEmits(['update:quantity'])\r\nconst isErrorMax = ref(false)\r\nconst isButtonClick = ref(false)\r\nconst route = useRoute()\r\nconst value = computed({\r\n  get() {\r\n    return props.quantity\r\n  },\r\n  set(value) {\r\n    if (\r\n      value > props.volume.quantity &&\r\n      !isButtonClick.value &&\r\n      route.name === 'item'\r\n    ) {\r\n      isErrorMax.value = true\r\n      isButtonClick.value = false\r\n      return\r\n    } else if (props.volume.quantity <= 0 && !isButtonClick.value) {\r\n      isErrorMax.value = true\r\n      isButtonClick.value = false\r\n\r\n      return\r\n    }\r\n    isButtonClick.value = false\r\n\r\n    emit('update:quantity', value)\r\n  }\r\n})\r\n\r\nconst minus = () => {\r\n  if (value.value - 1 > 0) {\r\n    isButtonClick.value = true\r\n    value.value -= 1\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n@import '@/styles/style.scss';\r\n\r\n.input--disabled {\r\n  pointer-events: none;\r\n}\r\n\r\n.form__counter {\r\n  input:focus-visible {\r\n    outline: none;\r\n  }\r\n  button {\r\n    background: none !important;\r\n    :focus {\r\n      outline: none;\r\n      background: none !important ;\r\n    }\r\n    [class*='--icon'] {\r\n      transition: fill 0.2s ease-in-out;\r\n    }\r\n    svg {\r\n      width: 13px;\r\n      height: 13px;\r\n    }\r\n    border: 1px solid $grey;\r\n    transition: border 0.2s ease-in-out;\r\n    &.button__plus {\r\n      &:hover {\r\n        .button__plus--icon {\r\n          fill: $green;\r\n        }\r\n        border: 3px solid $green;\r\n      }\r\n    }\r\n    &.button__minus {\r\n      svg {\r\n        transform: translateY(0.5px);\r\n      }\r\n      &:hover {\r\n        .button__minus--icon {\r\n          fill: $red;\r\n        }\r\n        border: 3px solid $red;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./BaseCounter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseCounter.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BaseCounter.vue?vue&type=style&index=0&id=666246ba&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div v-bind=\"$attrs\" class=\"content__catalog catalog-view\">\r\n    <section id=\"catalog\" class=\"catalog\">\r\n      <BaseSpinner v-if=\"isLoading\"></BaseSpinner>\r\n      <CatalogItems v-else :items=\"localItems\"></CatalogItems>\r\n      <PaginationBase\r\n        v-if=\"localPagination.pages > 1\"\r\n        class=\"catalog__pagination\"\r\n        v-model:config=\"localConfig\"\r\n        :pagination=\"localPagination\"\r\n      />\r\n    </section>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport { CatalogRecomend } from '@/hooks/useData'\r\nexport default defineComponent(CatalogRecomend)\r\n</script>\r\n<style lang=\"scss\">\r\n@import '@/styles/style.scss';\r\n</style>\r\n","import { render } from \"./CatalogRecomend.vue?vue&type=template&id=8b02deb0\"\nimport script from \"./CatalogRecomend.vue?vue&type=script&lang=js\"\nexport * from \"./CatalogRecomend.vue?vue&type=script&lang=js\"\n\nimport \"./CatalogRecomend.vue?vue&type=style&index=0&id=8b02deb0&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\Aurvedicum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <main class=\"content container\">\r\n    <div class=\"content__top\">\r\n      <ul v-if=\"store.isOrderedBasket\" class=\"breadcrumbs\">\r\n        <li class=\"breadcrumbs__item\">\r\n          <router-link :to=\"{ name: 'adminMenu' }\" class=\"breadcrumbs__link\">\r\n            Меню\r\n          </router-link>\r\n        </li>\r\n        <li class=\"breadcrumbs__item\">\r\n          <router-link :to=\"{ name: 'adminOrders' }\" class=\"breadcrumbs__link\">\r\n            Заказы\r\n          </router-link>\r\n        </li>\r\n        <li class=\"breadcrumbs__item\">\r\n          <router-link :to=\"store.page\" class=\"breadcrumbs__link\">\r\n            Изменение заказа\r\n          </router-link>\r\n        </li>\r\n        <li class=\"breadcrumbs__item\">\r\n          <router-link :to=\"{ name: 'catalog' }\" class=\"breadcrumbs__link\">\r\n            Каталог\r\n          </router-link>\r\n        </li>\r\n        <li\r\n          class=\"breadcrumbs__item\"\r\n          v-for=\"item in product.categories\"\r\n          :key=\"item.id\"\r\n        >\r\n          <router-link\r\n            :to=\"{ name: 'catalog', params: { categoryId: item.categoryId } }\"\r\n            @click=\"store.setCatalogPathName\"\r\n            class=\"breadcrumbs__link\"\r\n            href=\"#\"\r\n          >\r\n            {{ item.title }}\r\n          </router-link>\r\n        </li>\r\n        <li class=\"breadcrumbs__item\">\r\n          <span class=\"breadcrumbs__link\" disabled> {{ product.name }} </span>\r\n        </li>\r\n      </ul>\r\n\r\n      <ul v-else class=\"breadcrumbs\">\r\n        <li class=\"breadcrumbs__item\">\r\n          <router-link\r\n            :to=\"{ name: 'catalog' }\"\r\n            @click=\"store.setCatalogPathName\"\r\n            class=\"breadcrumbs__link\"\r\n          >\r\n            Каталог\r\n          </router-link>\r\n        </li>\r\n        <li\r\n          class=\"breadcrumbs__item\"\r\n          v-for=\"item in product.categories\"\r\n          :key=\"item.id\"\r\n        >\r\n          <router-link\r\n            :to=\"{ name: 'catalog', params: { categoryId: item.categoryId } }\"\r\n            @click=\"store.setCatalogPathName\"\r\n            class=\"breadcrumbs__link\"\r\n            href=\"#\"\r\n          >\r\n            {{ item.title }}\r\n          </router-link>\r\n        </li>\r\n        <li class=\"breadcrumbs__item\">\r\n          <span class=\"breadcrumbs__link\" disabled> {{ product.name }} </span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <BaseSpinner v-if=\"isLoading && !isLoadingFailed\"></BaseSpinner>\r\n    <div v-else-if=\"isLoadingFailed\" class=\"failed-loading\">\r\n      Не удалось загрузить информацию о товаре, попробуйте перезагрузить\r\n      страницу.\r\n    </div>\r\n\r\n    <section v-else class=\"item\">\r\n      <div class=\"item__pics pics\">\r\n        <div\r\n          class=\"pics__wrapper\"\r\n          :style=\"{\r\n            background: `no-repeat center/contain url('${\r\n              IMAGE_STORE + image.filename\r\n            }') transparent`\r\n          }\"\r\n        >\r\n          <ul v-if=\"product.images.length > 1\" class=\"pics__list\">\r\n            <li\r\n              class=\"pics__item\"\r\n              v-for=\"item in product.images\"\r\n              :key=\"item.id\"\r\n            >\r\n              <a\r\n                href=\"\"\r\n                @click.prevent=\"image = item\"\r\n                class=\"pics__link\"\r\n                :class=\"{ 'pics__link--current': item.id === image.id }\"\r\n              >\r\n                <img\r\n                  alt=\"Изображение товара\"\r\n                  :src=\"IMAGE_STORE + item.filename\"\r\n                />\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"item__info\">\r\n        <h2 class=\"item__title\">{{ product.name }}</h2>\r\n        <div class=\"item__form\">\r\n          <form\r\n            class=\"form\"\r\n            action=\"#\"\r\n            method=\"POST\"\r\n            @submit.prevent=\"addProduct\"\r\n          >\r\n            <div\r\n              class=\"item__quantity\"\r\n              :class=\"{ 'item__quantity--error': isNoProducts }\"\r\n            >\r\n              {{ pluralizeProductAmount(volume.quantity) }} в наличии\r\n            </div>\r\n            <div class=\"item__row item__row--center\">\r\n              <BaseCounter\r\n                :class=\"{ disabled: volume.quantity === 0 }\"\r\n                v-model:quantity=\"quantity\"\r\n                :volume=\"volume\"\r\n              ></BaseCounter>\r\n\r\n              <div class=\"item__price-block\">\r\n                <b\r\n                  class=\"item__price\"\r\n                  :class=\"{ 'item__price--center': !isSubprice }\"\r\n                  >{{ editNumberFormat(volume.price) }}&nbsp;₽\r\n                </b>\r\n\r\n                <span\r\n                  v-if=\"volume.subprice > volume.price\"\r\n                  class=\"item__subprice\"\r\n                  >{{ editNumberFormat(volume.subprice) }}&nbsp;₽\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"item__row item__brand-volume\">\r\n              <div class=\"item__brand\">\r\n                <legend class=\"form__legend\">Бренд</legend>\r\n                <ul class=\"brand-list\">\r\n                  <li\r\n                    class=\"brand-list__item\"\r\n                    v-for=\"item in product.brands\"\r\n                    :key=\"item.id\"\r\n                  >\r\n                    <span class=\"brand-list__text\">\r\n                      {{ item.title }}\r\n                    </span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"item__volume\">\r\n                <legend class=\"form__legend\">Объем/вес</legend>\r\n                <BaseSelect\r\n                  v-if=\"!isOneVolume\"\r\n                  :items=\"product.volumes\"\r\n                  v-model:volume=\"volume\"\r\n                ></BaseSelect>\r\n                <span class=\"brand-list__item\" v-else>\r\n                  {{ volume.volume }}</span\r\n                >\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              class=\"button button--primery\"\r\n              :class=\"{\r\n                'button-error': quantityError,\r\n                'spinner-small': store.basketCounterLoading,\r\n                'button--added': isAdded\r\n              }\"\r\n              type=\"submit\"\r\n            >\r\n              <div class=\"button__subtext\">Товар добавлен</div>\r\n              {{\r\n                quantityError ? 'Недопустимое количество товара' : 'В корзину'\r\n              }}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-show=\"product.description.length > 0\" class=\"item__desc\">\r\n        <ul class=\"tabs\">\r\n          <li\r\n            class=\"tabs__item\"\r\n            v-for=\"item in product.description\"\r\n            :key=\"item.id\"\r\n          >\r\n            <a\r\n              @click.prevent=\"changeContent(item.id)\"\r\n              class=\"tabs__link\"\r\n              :class=\"{ 'tabs__link--current': isCurrentContent(item) }\"\r\n            >\r\n              {{ item.header }}\r\n            </a>\r\n          </li>\r\n        </ul>\r\n\r\n        <div class=\"item__content\">\r\n          <p v-for=\"item in descItem.content\" :key=\"item.id\">\r\n            {{ item.paragraph }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div id=\"recomend\" class=\"item__recomend\">\r\n        <h3 class=\"item__title\">Рекомендуем также</h3>\r\n        <CatalogRecomend :recomend=\"product.recomend\"></CatalogRecomend>\r\n      </div>\r\n    </section>\r\n  </main>\r\n</template>\r\n\r\n<script setup>\r\n// /* eslint-disable */\r\nimport { IMAGE_STORE } from '@/config'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { store } from '@/store/store'\r\nimport { onBeforeUnmount, ref, watch } from 'vue'\r\nimport CatalogRecomend from '@/components/catalog/CatalogRecomend.vue'\r\nimport useApi from '@/hooks/useApi'\r\nimport useEditors from '@/hooks/useEditors'\r\nimport BaseSelect from '@/components/small/BaseSelect.vue'\r\nimport BaseCounter from '@/components/small/BaseCounter.vue'\r\nimport BaseSpinner from '@/components/small/BaseSpinner.vue'\r\nconst router = useRouter()\r\nconst productId = useRoute().params.id\r\nconst { getProductData, addToBasket } = useApi()\r\nconst product = ref({ description: [] })\r\nconst descItem = ref('')\r\nconst volumeId = ref('')\r\nconst volume = ref({})\r\nconst isLoading = ref(true)\r\nconst isLoadingFailed = ref(false)\r\nconst isAdded = ref(false)\r\nconst isNoProducts = ref(false)\r\nconst quantityError = ref(true)\r\nconst quantity = ref(1)\r\nconst isOneVolume = ref(false)\r\nconst isSubprice = ref(false)\r\nconst image = ref({})\r\nconst { editNumberFormat, pluralizeProductAmount } = useEditors()\r\n\r\ngetProductData(productId)\r\n  .then((res) => {\r\n    product.value = res\r\n    if (product.value.volumes[0]) {\r\n      isOneVolume.value = product.value.volumes.length === 1\r\n      volumeId.value = product.value.volumes[0].id\r\n      volume.value = product.value.volumes[0]\r\n    }\r\n    if (product.value.images[0]) {\r\n      image.value = product.value.images[0]\r\n    }\r\n    if (product.value.description.length) {\r\n      descItem.value = product.value.description[0]\r\n    }\r\n  })\r\n  .catch(() => {\r\n    isLoadingFailed.value = true\r\n    router.push({ name: 'notFound' })\r\n  })\r\n  .then(() => (isLoading.value = false))\r\n\r\nconst intervalId = setInterval(() => {\r\n  getProductData(productId).then((res) => {\r\n    product.value = res\r\n    volume.value = product.value.volumes.find(\r\n      (volume) => volume.id === volumeId.value\r\n    )\r\n  })\r\n}, 200)\r\n\r\nonBeforeUnmount(() => clearInterval(intervalId))\r\nconst changeContent = (id) => {\r\n  descItem.value = product.value.description.find((item) => item.id === id)\r\n}\r\n\r\nwatch(\r\n  () => volume.value,\r\n  (value) => {\r\n    volumeId.value = value.id\r\n    isSubprice.value = !!value.subprice\r\n    isNoProducts.value = value.quantity === 0\r\n    quantityError.value = value.quantity < quantity.value\r\n  },\r\n  { deep: true }\r\n)\r\nlet timeId\r\n\r\nwatch(\r\n  () => quantity.value,\r\n  (value) => {\r\n    quantityError.value = value <= 0\r\n    clearTimeout(timeId)\r\n    if (value <= 0) {\r\n      timeId = setTimeout(() => (quantity.value = 1), 2000)\r\n    }\r\n  },\r\n  { immediate: true }\r\n)\r\nconst isCurrentContent = (item) => {\r\n  return item.id === descItem.value.id\r\n}\r\n\r\nconst addProduct = async () => {\r\n  addToBasket({\r\n    quantity: quantity.value,\r\n    productId: product.value.id,\r\n    volumeId: volume.value.id,\r\n    isAdd: true\r\n  })\r\n}\r\n\r\nwatch(\r\n  () => store.basketCounterLoading,\r\n  (value) => {\r\n    if (!value) {\r\n      isAdded.value = true\r\n      setTimeout(() => (isAdded.value = false), 1000)\r\n    }\r\n  }\r\n)\r\n</script>\r\n<style lang=\"scss\">\r\n@import '@/styles/item.scss';\r\n</style>\r\n","import script from \"./ItemPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ItemPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ItemPage.vue?vue&type=style&index=0&id=9cd1cae2&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_ctx","_createBlock","_Teleport","to","_createElementVNode","class","onClick","ref","onMouseleave","onMouseenter","_renderSlot","_createVNode","_component_DeleteButton","openModalsCount","Set","uid","getCurrentInstance","isOpen","doOpen","value","add","doClose","delete","isSomeOpen","computed","size","checkBlackoutState","document","body","style","paddingRight","window","innerWidth","documentElement","clientWidth","overflow","watch","__exports__","defineComponent","props","open","type","Boolean","emits","components","DeleteButton","setup","emit","$emit","contentElement","useModal","isOutContent","doCloseModal","onOutsideClick","$event","target","contains","immediate","render","get","set","isErrorMax","isButtonClick","route","useRoute","quantity","volume","name","minus","id","_createElementBlock","_component_BaseSpinner","key","_component_CatalogItems","items","pages","_component_PaginationBase","config","pagination","CatalogRecomend","router","useRouter","productId","params","getProductData","addToBasket","useApi","product","description","descItem","volumeId","isLoading","isLoadingFailed","isAdded","isNoProducts","quantityError","isOneVolume","isSubprice","image","editNumberFormat","pluralizeProductAmount","useEditors","then","res","volumes","length","images","catch","push","intervalId","setInterval","find","onBeforeUnmount","clearInterval","changeContent","item","timeId","subprice","deep","clearTimeout","setTimeout","isCurrentContent","addProduct","async","isAdd","store"],"sourceRoot":""}