{"version":3,"file":"js/867.d0840ce8.js","mappings":"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","sources":["webpack://client/./src/components/admin/articles/ListPage.vue","webpack://client/./src/components/admin/articles/ListPage.vue?fbb5"],"sourcesContent":["<template>\r\n  <div class=\"content__top\">\r\n    <ul class=\"breadcrumbs\">\r\n      <li class=\"breadcrumbs__item\">\r\n        <router-link :to=\"{ name: 'adminMenu' }\" class=\"breadcrumbs__link\">\r\n          Меню\r\n        </router-link>\r\n      </li>\r\n\r\n      <li class=\"breadcrumbs__item\">\r\n        <span class=\"breadcrumbs__link\" disabled> Статьи </span>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n\r\n  <section class=\"catalog content__catalog article\">\r\n    <router-link\r\n      :to=\"{ name: 'adminAddArticle' }\"\r\n      class=\"data-base__button-add\"\r\n    >\r\n      Добавить</router-link\r\n    >\r\n    <BaseSpinner v-if=\"store.isLoading\"></BaseSpinner>\r\n    <p\r\n      class=\"data-base__empty-message\"\r\n      v-if=\"items.length === 0 && !store.isLoading\"\r\n    >\r\n      Список пуст\r\n    </p>\r\n\r\n    <ul class=\"data-base__list\">\r\n      <li v-for=\"item in items\" :key=\"item.id\" class=\"data-base__item\">\r\n        <div class=\"data-base__item-body\">\r\n          <img\r\n            class=\"article__image\"\r\n            :src=\"'..' + IMAGE_STORE + item.filename\"\r\n            alt=\"Иллюстрация статьи\"\r\n          />\r\n          <h3 class=\"data-base__name\">{{ item.header }}</h3>\r\n          <router-link\r\n            class=\"data-base__change-button\"\r\n            :to=\"{ name: 'adminChangeArticle', params: { id: item.id } }\"\r\n            >Изменить</router-link\r\n          >\r\n          <span class=\"data-base__created\"\r\n            >Созданно: {{ editors.editDate(item.created) }}</span\r\n          >\r\n          <span class=\"data-base__changed\"\r\n            >Измененно: {{ editors.editDate(item.changed) }}</span\r\n          >\r\n\r\n          <button\r\n            class=\"data-base__button-del button-del\"\r\n            type=\"button\"\r\n            aria-label=\"Удалить товар\"\r\n            @click.prevent=\"deleteItem(item.id)\"\r\n          >\r\n            <svg width=\"20\" height=\"20\" fill=\"currentColor\">\r\n              <path\r\n                d=\"M17 1L1 17m16 0L1 1\"\r\n                stroke=\"#9D9D9D\"\r\n                stroke-width=\".8\"\r\n              ></path>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <PaginationBase\r\n      v-if=\"pagination.pages > 1\"\r\n      class=\"catalog__pagination\"\r\n      v-model:config=\"config\"\r\n      :pagination=\"pagination\"\r\n    />\r\n  </section>\r\n</template>\r\n<script>\r\nimport PaginationBase from '@/components/small/PaginationBase.vue'\r\nimport BaseSpinner from '@/components/small/BaseSpinner.vue'\r\nimport { ref, watch, defineComponent } from 'vue'\r\nimport useApi from '@/hooks/useApi'\r\nimport { store } from '@/store/store'\r\nimport { IMAGE_STORE } from '@/config'\r\n\r\nimport useEditors from '@/hooks/useEditors'\r\n\r\nconst { fetchWithParams } = useApi()\r\n\r\nexport default defineComponent({\r\n  components: { BaseSpinner, PaginationBase },\r\n  data() {\r\n    return {\r\n      store,\r\n      IMAGE_STORE\r\n    }\r\n  },\r\n  setup() {\r\n    const editors = useEditors()\r\n\r\n    const items = ref([])\r\n    const pagination = ref({})\r\n    const config = ref({\r\n      limit: 6,\r\n      page: 1\r\n    })\r\n    const getData = () =>\r\n      fetchWithParams('get', 'api/articles', config.value).then((res) => {\r\n        items.value = res.data.items\r\n        pagination.value = res.data.pagination\r\n      })\r\n\r\n    const deleteItem = (id) => {\r\n      fetchWithParams('delete', `api/articles/${id}`, {}, '').then(() =>\r\n        getData()\r\n      )\r\n    }\r\n\r\n    watch(\r\n      () => config.value,\r\n      () => getData(),\r\n      { deep: true, immediate: true }\r\n    )\r\n    return {\r\n      editors,\r\n      deleteItem,\r\n      config,\r\n      pagination,\r\n      items\r\n    }\r\n  }\r\n})\r\n</script>\r\n<style lang=\"scss\">\r\n@import '@/styles/article.scss';\r\n</style>\r\n","import { render } from \"./ListPage.vue?vue&type=template&id=7b84c499\"\nimport script from \"./ListPage.vue?vue&type=script&lang=js\"\nexport * from \"./ListPage.vue?vue&type=script&lang=js\"\n\nimport \"./ListPage.vue?vue&type=style&index=0&id=7b84c499&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\Aurvedicum\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","disabled","width","height","fill","d","stroke","_hoisted_17","_createVNode","_component_router_link","to","name","_hoisted_5","_ctx","isLoading","_createBlock","_component_BaseSpinner","key","length","_createElementBlock","_Fragment","_renderList","item","id","src","filename","alt","_toDisplayString","header","params","editDate","created","changed","type","onClick","pages","_component_PaginationBase","config","$event","pagination","fetchWithParams","useApi","defineComponent","components","BaseSpinner","PaginationBase","data","store","IMAGE_STORE","setup","editors","useEditors","items","ref","limit","page","getData","value","then","res","deleteItem","watch","deep","immediate","__exports__","render"],"sourceRoot":""}