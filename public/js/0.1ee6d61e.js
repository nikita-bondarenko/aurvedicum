"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[0],{4379:function(e,a,t){t.r(a),t.d(a,{default:function(){return k}});var n=t(3396),r=t(4870),c=t(8256),s=t(4920),i=t(1120),o=t(6866),d=t(4460),u=t(9205);const l={class:"content__top"},p={class:"breadcrumbs"},m={class:"breadcrumbs__item"},h=(0,n.Uk)(" Меню "),_={class:"breadcrumbs__item"},b=(0,n.Uk)(" Товары "),f=(0,n._)("li",{class:"breadcrumbs__item"},[(0,n._)("span",{class:"breadcrumbs__link",disabled:""}," Изменение товара ")],-1);var g={__name:"ChangeItem",setup(e){const{fetch:a}=(0,s.Z)(),t=(0,r.iH)({volumes:[],categories:[],brands:[],images:[],description:[{header:"Полезные свойства",content:[],id:1},{header:"Преминение",content:[],id:2},{header:"Противопоказания",content:[],id:3},{header:"Состав",content:[],id:4}]}),g=(0,r.iH)({}),v=(0,o.yj)().params.id,k=()=>{const e=t.value;e.description=e.description.filter((e=>e.content.some((e=>!!e.paragraph)))),e.description&&e.description.forEach((e=>{e.content=e.content.filter((e=>!!e.paragraph))})),a("patch",`api/products/${v}`,e,"SaveLoading").then((()=>{i.Z.push({name:"adminProducts"})})).catch((e=>{g.value=e.response.data,t.value.description.forEach((e=>{1!==e.content.length&&(e.content=e.content.filter((e=>!!e.paragraph)))}))}))};return a("get",`api/products/${v}`).then((e=>t.value=e.data)).catch((()=>i.Z.push({path:"adminNotFound"}))),(e,a)=>{const s=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",l,[(0,n._)("ul",p,[(0,n._)("li",m,[(0,n.Wm)(s,{to:{name:"adminMenu"},class:"breadcrumbs__link"},{default:(0,n.w5)((()=>[h])),_:1})]),(0,n._)("li",_,[(0,n.Wm)(s,{to:{name:"adminProducts"},class:"breadcrumbs__link"},{default:(0,n.w5)((()=>[b])),_:1})]),f])]),(0,r.SU)(d.h).isLoading?((0,n.wg)(),(0,n.j4)(u.Z,{key:0})):((0,n.wg)(),(0,n.j4)(c.Z,{key:1,text:"сохранить изменения",data:t.value,"onUpdate:data":a[0]||(a[0]=e=>t.value=e),onSubmit:k,formError:g.value},null,8,["data","formError"]))],64)}}};const v=g;var k=v}}]);
//# sourceMappingURL=0.1ee6d61e.js.map