{"version":3,"file":"js/926.399b0b49.js","mappings":"m6GAsJA,MAAMA,GAAYC,EAAAA,EAAAA,MAAWC,OAAOC,IAC9B,WAAEC,IAAeC,EAAAA,EAAAA,KACjBC,GAAUC,EAAAA,EAAAA,IAAI,IACdC,GAAUD,EAAAA,EAAAA,IAAI,IACdE,GAASF,EAAAA,EAAAA,IAAI,IACbG,IAAYH,EAAAA,EAAAA,KAAI,GAChBI,IAAkBJ,EAAAA,EAAAA,KAAI,GACtBK,IAAgBL,EAAAA,EAAAA,KAAI,GACpBM,IAAeN,EAAAA,EAAAA,KAAI,GACnBO,IAAgBP,EAAAA,EAAAA,IAAI,MACpBQ,IAAUR,EAAAA,EAAAA,IAAI,MACdS,IAAcT,EAAAA,EAAAA,KAAI,GAClBU,IAAaV,EAAAA,EAAAA,KAAI,GACjBW,IAAQX,EAAAA,EAAAA,IAAI,IACZY,GAAUC,UACd,IACEV,GAAUW,OAAQ,EAClBV,GAAgBU,OAAQ,EACxB,MAAMC,QAAYlB,EAAW,CAAED,GAAIH,IACnCM,EAAQe,MAAQC,EAAIC,WACVD,EAAIC,OACZb,GAAUW,OAAQ,EACdf,EAAQe,MAAMG,YAAYC,SAC5BjB,EAAQa,MAAQf,EAAQe,MAAMG,YAAY,GAAGhB,SAG3CF,EAAQe,MAAMK,QAAQ,KACxBjB,EAAOY,MAAQf,EAAQe,MAAMK,QAAQ,GACrCV,GAAYK,MAAyC,IAAjCf,EAAQe,MAAMK,QAAQD,QAGxCnB,EAAQe,MAAMM,OAAO,KACvBT,GAAMG,MAAQf,EAAQe,MAAMM,OAAO,KAGvC,MACAhB,GAAgBU,OAAQ,EACxBX,GAAUW,OAAQ,IAGtBF,KACA,MAAMS,GAAiBzB,IACrBK,EAAQa,MAAQf,EAAQe,MAAMG,YAAYK,MACvCC,GAASA,EAAK3B,KAAOA,IACtBK,S,OAGJuB,SAASC,KAAKC,iBAAiB,SAAS,KACjCrB,GAAcS,QACjBR,GAAaQ,OAAQ,OAIzBa,EAAAA,EAAAA,KACE,IAAMrB,GAAaQ,QAClBA,IACMA,EAMHN,GAAQM,MAAMc,UAAUC,IAAI,mBAL5BrB,GAAQM,MAAMc,UAAUC,IAAI,oBAC5BrB,GAAQM,MAAMc,UAAUE,OAAO,kBAE/BC,YAAW,IAAMvB,GAAQM,MAAMc,UAAUE,OAAO,qBAAqB,UAO3EH,EAAAA,EAAAA,KACE,IAAMzB,EAAOY,QACZA,IACKA,EAAMkB,WACRtB,GAAWI,QAAUA,EAAMkB,SAAS,GAAGlB,U,i7FCxN7C,MAAMmB,GAAc,GAEpB","sources":["webpack://frontend/./src/views/DataProduct.vue","webpack://frontend/./src/views/DataProduct.vue?a087"],"sourcesContent":["<template>\r\n  <main class=\"content container\">\r\n    <div class=\"content__top\">\r\n      <ul class=\"breadcrumbs\">\r\n        <li class=\"breadcrumbs__item\">\r\n          <a class=\"breadcrumbs__link\" href=\"index.html\"> Каталог </a>\r\n        </li>\r\n        <li class=\"breadcrumbs__item\" v-for=\"item in product.categories\" :key=\"item.id\">\r\n          <a class=\"breadcrumbs__link\" href=\"#\"> {{ item.title }} </a>\r\n        </li>\r\n        <li class=\"breadcrumbs__item\">\r\n          <span class=\"breadcrumbs__link\" disabled> {{ product.name }} </span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <section class=\"item product\">\r\n      <div class=\"item__pics pics\">\r\n        <div class=\"pics__wrapper\">\r\n          <img width=\"570\" height=\"570\" :src=\"IMAGE_STATIC + image.filename\" alt=\"Изображение товара\" />\r\n        </div>\r\n        <ul class=\"pics__list\">\r\n          <li class=\"pics__item\" v-for=\"item in product.images\" :key=\"item.id\">\r\n            <a href=\"\" @click.prevent=\"image = item\" class=\"pics__link\"\r\n              :class=\"{ 'pics__link--current': item === image }\">\r\n              <img width=\"98\" height=\"98\" :src=\"IMAGE_STATIC + item.filename\" alt=\"Изображение товара\" />\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div class=\"item__info\">\r\n        <h2 class=\"item__title\">{{ product.name }}</h2>\r\n        <div class=\"item__form\">\r\n          <form class=\"form\" action=\"#\" method=\"POST\">\r\n            <div class=\"item__row item__row--center\">\r\n              <div class=\"form__counter counter\">\r\n                <button type=\"button\" class=\"counter__button\" aria-label=\"Убрать один товар\">\r\n                  <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n                  <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                    xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 52.161 52.161\"\r\n                    style=\"enable-background: new 0 0 52.161 52.161\" xml:space=\"preserve\">\r\n                    <g>\r\n                      <path class=\"button__minus\"\r\n                        d=\"M52.161,26.081c0,3.246-2.63,5.875-5.875,5.875H5.875C2.63,31.956,0,29.327,0,26.081l0,0c0-3.245,2.63-5.875,5.875-5.875 h40.411C49.531,20.206,52.161,22.835,52.161,26.081L52.161,26.081z\" />\r\n                    </g>\r\n                  </svg>\r\n                </button>\r\n\r\n                <input type=\"text\" value=\"1\" name=\"count\" />\r\n\r\n                <button type=\"button\" aria-label=\"Добавить один товар\" class=\"counter__button\">\r\n                  <!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n                  <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                    xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"45.402px\" height=\"45.402px\"\r\n                    viewBox=\"0 0 45.402 45.402\" style=\"enable-background: new 0 0 45.402 45.402\" xml:space=\"preserve\">\r\n                    <g>\r\n                      <path class=\"button__plus\"\r\n                        d=\"M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141c-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27c0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435c2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z\" />\r\n                    </g>\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              <b class=\"item__price\" :class=\"{ 'item__price--center': isSubprice }\">\r\n                {{ volume.price }} ₽\r\n                <span v-if=\"volume.subprice\" class=\"item__subprice\">{{ volume.subprice[0].value }} ₽\r\n                </span>\r\n              </b>\r\n            </div>\r\n            <div class=\"item__row volume-row\">\r\n              <legend class=\"form__legend volume-row__item\">Бренд:</legend>\r\n              <ul class=\"brand-list\">\r\n                <li class=\"brand-list__item\" v-for=\"item in product.brands\" :key=\"item.id\">\r\n                  <span class=\"brand-list__text\">\r\n                    {{ item.title }}\r\n                  </span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div class=\"item__row volume-row\">\r\n              <legend class=\"form__legend volume-row__item\">Объем/вес:</legend>\r\n\r\n              <div class=\"select volume-row__item\" ref=\"selectElement\" @mouseenter=\"isSelectHover = true\"\r\n                @mouseleave=\"isSelectHover = false\" @click.prevent=\"isSelectOpen = !isSelectOpen\" :class=\"{\r\n                  'select--open': isSelectOpen,\r\n                  'select-one': isOneVolume\r\n                }\">\r\n                {{ volume.volume }}\r\n                <div class=\"select-arrow\" :class=\"{\r\n                  'select-arrow--hover': isSelectHover,\r\n                  'select-arrow--open': isSelectOpen\r\n                }\">\r\n                  <!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n                  <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                    xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"30.021px\" height=\"30.021px\"\r\n                    viewBox=\"0 0 30.021 30.021\" style=\"enable-background: new 0 0 30.021 30.021\" xml:space=\"preserve\">\r\n                    <g>\r\n                      <path d=\"M29.069,22.276c-0.791,0.932-1.917,1.409-3.052,1.409c-0.913,0-1.834-0.312-2.587-0.949l-8.42-7.152l-8.42,7.151\r\n  c-1.683,1.43-4.208,1.225-5.639-0.459c-1.43-1.686-1.224-4.208,0.46-5.64l11.01-9.351c1.493-1.269,3.686-1.269,5.178,0\r\n  l11.011,9.351C30.294,18.068,30.499,20.591,29.069,22.276z\" />\r\n                    </g>\r\n                  </svg>\r\n                </div>\r\n                <div ref=\"dropBox\" class=\"drop-box\">\r\n                  <div class=\"drop-box__body\">\r\n                    <ul class=\"drop-box__list\">\r\n                      <li class=\"drop-box__item\" v-for=\"item in product.volumes\" :key=\"item.id\">\r\n                        <button @click.prevent=\"volume = item\" class=\"drop-box__button\" :value=\"item.volume\">\r\n                          {{ item.volume }}\r\n                        </button>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <PrimeBtn type=\"submit\"> В корзину </PrimeBtn>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"item__desc\">\r\n        <ul class=\"tabs uk-flex uk-flex-wrap uk-flex-center\">\r\n          <li class=\"tabs__item\" v-for=\"item in product.description\" :key=\"item.id\">\r\n            <a @click.prevent=\"changeContent(item.id)\" class=\"tabs__link\"\r\n              :class=\"{ 'tabs__link--current': item.content === content }\">\r\n              {{ item.header }}\r\n            </a>\r\n          </li>\r\n        </ul>\r\n\r\n        <div class=\"item__content\">\r\n          <p v-for=\"item in content\" :key=\"item.id\">\r\n            {{ item.paragraph }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </main>\r\n</template>\r\n\r\n<script setup>\r\nimport { useRoute } from 'vue-router'\r\nimport { ref, watch } from 'vue'\r\nimport useApi from '@/composible/useApi'\r\nimport PrimeBtn from '@/components/PrimeBtn.vue'\r\nimport { IMAGE_STATIC } from '@/config.js'\r\nconst productId = useRoute().params.id\r\nconst { getProduct } = useApi()\r\nconst product = ref({})\r\nconst content = ref([])\r\nconst volume = ref([])\r\nconst isLoading = ref(false)\r\nconst isLoadingFailed = ref(false)\r\nconst isSelectHover = ref(false)\r\nconst isSelectOpen = ref(false)\r\nconst selectElement = ref(null)\r\nconst dropBox = ref(null)\r\nconst isOneVolume = ref(false)\r\nconst isSubprice = ref(false)\r\nconst image = ref('')\r\nconst getData = async () => {\r\n  try {\r\n    isLoading.value = true\r\n    isLoadingFailed.value = false\r\n    const res = await getProduct({ id: productId })\r\n    product.value = res.data\r\n    if (await res.data) {\r\n      isLoading.value = false\r\n      if (product.value.description.length) {\r\n        content.value = product.value.description[0].content\r\n      }\r\n\r\n      if (product.value.volumes[0]) {\r\n        volume.value = product.value.volumes[0]\r\n        isOneVolume.value = product.value.volumes.length === 1\r\n      }\r\n\r\n      if (product.value.images[0]) {\r\n        image.value = product.value.images[0]\r\n      }\r\n    }\r\n  } catch {\r\n    isLoadingFailed.value = true\r\n    isLoading.value = false\r\n  }\r\n}\r\ngetData()\r\nconst changeContent = (id) => {\r\n  content.value = product.value.description.find(\r\n    (item) => item.id === id\r\n  ).content\r\n}\r\n\r\ndocument.body.addEventListener('click', () => {\r\n  if (!isSelectHover.value) {\r\n    isSelectOpen.value = false\r\n  }\r\n})\r\n\r\nwatch(\r\n  () => isSelectOpen.value,\r\n  (value) => {\r\n    if (!value) {\r\n      dropBox.value.classList.add('drop-box--hidden')\r\n      dropBox.value.classList.remove('drop-box--open')\r\n\r\n      setTimeout(() => dropBox.value.classList.remove('drop-box--hidden'), 600)\r\n    } else {\r\n      dropBox.value.classList.add('drop-box--open')\r\n    }\r\n  }\r\n)\r\n\r\nwatch(\r\n  () => volume.value,\r\n  (value) => {\r\n    if (value.subprice) {\r\n      isSubprice.value = !!value.subprice[0].value\r\n    }\r\n  }\r\n)\r\n</script>\r\n<style lang=\"scss\">\r\n@import '@/style/mixins.scss';\r\n@import '@/style/variables.scss';\r\n\r\n@mixin selectBorderColor {\r\n  cursor: pointer;\r\n\r\n  color: $colorText;\r\n  background-color: $lightGray;\r\n  border: 1px solid transparent;\r\n  transition-property: border-color, color;\r\n  transition-duration: 0.2s;\r\n  transition-timing-function: ease-in-out;\r\n\r\n  &:hover {\r\n    color: $green  !important;\r\n    border-color: $green;\r\n  }\r\n}\r\n\r\n.select {\r\n  position: relative;\r\n  display: inline-block;\r\n  height: 40px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  @include selectBorderColor;\r\n  border-color: transparent;\r\n  padding: 2px 30px 2px 10px;\r\n  color: $dark  !important;\r\n}\r\n\r\n.select--open {\r\n  border-color: $green;\r\n}\r\n\r\n.item__content {\r\n  margin: 0 auto;\r\n\r\n  p {\r\n    @include textFont;\r\n    display: block;\r\n    margin-bottom: 10px;\r\n  }\r\n}\r\n\r\n.container {\r\n  width: auto;\r\n}\r\n\r\n.tabs__link {\r\n  transition: color 0.2s ease-in-out;\r\n}\r\n\r\n.tabs__link:focus::after,\r\n.tabs__link:hover::after,\r\n.tabs__link--current::after {\r\n  bottom: -1px;\r\n  background-color: $green;\r\n}\r\n\r\n.uk-link-toggle:hover .uk-link,\r\n.uk-link:hover,\r\na:hover {\r\n  color: $green;\r\n  text-decoration: underline;\r\n}\r\n\r\n.item__title {\r\n  font-weight: 600;\r\n}\r\n\r\n.form__counter button {\r\n  border: none;\r\n\r\n  [class^='button__'] {\r\n    transition: fill 0.2s ease-in-out;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: transparent;\r\n\r\n    .button__plus {\r\n      fill: $green;\r\n    }\r\n\r\n    .button__minus {\r\n      fill: $red;\r\n    }\r\n  }\r\n}\r\n\r\n.form__block {\r\n  position: relative;\r\n}\r\n\r\n.select-arrow {\r\n  pointer-events: none;\r\n  position: absolute;\r\n  top: 16px;\r\n  right: 8px;\r\n\r\n  width: 15px;\r\n  height: 15px;\r\n  transform: rotate(180deg);\r\n  transition: transform 0.5s ease-in-out, top 0.5s ease-in-out;\r\n\r\n  path {\r\n    fill: $dark;\r\n    transition: fill 0.2s ease-in-out;\r\n  }\r\n\r\n  &--open {\r\n    top: 8px;\r\n    transform: rotate(0deg);\r\n  }\r\n}\r\n\r\n.select-arrow--hover path {\r\n  fill: $green;\r\n}\r\n\r\n.drop-box__body {\r\n  transform: translateY(-100%);\r\n\r\n  .drop-box__list {\r\n    border-color: transparent;\r\n  }\r\n}\r\n\r\n.drop-box--hidden {\r\n  .drop-box__body {\r\n    animation: closeBox 0.5s ease-in-out;\r\n    transform: translateY(-100%);\r\n  }\r\n}\r\n\r\n.drop-box--open {\r\n  .drop-box__body {\r\n    animation: dropBox 0.5s alternate ease-in-out;\r\n\r\n    transform: translateY(0);\r\n\r\n    .drop-box__list {\r\n      border-color: $green;\r\n    }\r\n  }\r\n}\r\n\r\n.drop-box {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  transform: translateY(100%);\r\n\r\n  &__body {\r\n    position: relative;\r\n  }\r\n\r\n  &__list {\r\n    width: 100%;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    top: 0;\r\n    @include selectBorderColor;\r\n\r\n    border-color: $green;\r\n    margin-block-start: 0;\r\n    margin-block-end: 0;\r\n  }\r\n\r\n  &__item {\r\n    line-height: 0;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  &__button {\r\n    color: $dark;\r\n    background-color: $colorBright;\r\n    transition-property: color, background-color;\r\n    transition-duration: 0.2s;\r\n    transition-timing-function: ease-in-out;\r\n    cursor: pointer;\r\n    border: none;\r\n    width: 100%;\r\n\r\n    &:hover {\r\n      color: $green;\r\n    }\r\n  }\r\n}\r\n\r\n@keyframes dropBox {\r\n  from {\r\n    transform: translateY(-100%);\r\n  }\r\n\r\n  to {\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes closeBox {\r\n  from {\r\n    transform: translateY(0);\r\n  }\r\n\r\n  to {\r\n    transform: translateY(-100%);\r\n  }\r\n}\r\n\r\n.counter__button {\r\n  &:focus {\r\n    background-color: transparent !important;\r\n  }\r\n\r\n  svg {\r\n    width: 20px;\r\n  }\r\n}\r\n\r\n.item__price {\r\n  display: block;\r\n  position: relative;\r\n\r\n  &--center {\r\n    transform: translateY(-10px);\r\n  }\r\n}\r\n\r\n.item__subprice {\r\n  display: block;\r\n  position: absolute;\r\n  top: 40px;\r\n  left: 10px;\r\n  @include middleFont;\r\n  text-decoration: line-through;\r\n  color: $red;\r\n  opacity: 0.8;\r\n  width: auto;\r\n}\r\n\r\n.volume-row {\r\n  display: flex;\r\n  align-items: stretch;\r\n  justify-content: start;\r\n  grid-gap: 0px;\r\n\r\n  .form__legend {\r\n    max-width: 90px;\r\n    margin: 0;\r\n  }\r\n\r\n  &__item {\r\n    flex-grow: 0;\r\n  }\r\n}\r\n\r\n.item__row:nth-child(3n) {\r\n  margin-bottom: 50px;\r\n}\r\n\r\n.select-one {\r\n  pointer-events: none;\r\n  border: none;\r\n\r\n  .select-arrow {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.item__row--center {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.product .button-primary {\r\n  max-width: 180px;\r\n}\r\n\r\n.pics__link--current {\r\n  pointer-events: none;\r\n}\r\n\r\n.pics__link {\r\n  display: block;\r\n  height: 100%;\r\n\r\n  img {\r\n    height: 100% !important;\r\n  }\r\n}\r\n\r\n.pics__wrapper {\r\n  img {\r\n    height: 570px;\r\n    width: 570px;\r\n  }\r\n}\r\n\r\n.pics__link:focus,\r\n.pics__link:hover,\r\n.pics__link--current {\r\n  border-color: $green;\r\n}\r\n\r\n.brand-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  &__item {\r\n    padding: 2px 4px;\r\n  }\r\n\r\n  &__text {\r\n    color: $colorTextLight;\r\n  }\r\n}\r\n\r\n@media (max-width: 650px) {\r\n  .item {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .item__content {\r\n    width: auto;\r\n  }\r\n\r\n  .tabs {\r\n    flex-direction: column;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./DataProduct.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DataProduct.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DataProduct.vue?vue&type=style&index=0&id=8b86fc90&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["productId","useRoute","params","id","getProduct","useApi","product","ref","content","volume","isLoading","isLoadingFailed","isSelectHover","isSelectOpen","selectElement","dropBox","isOneVolume","isSubprice","image","getData","async","value","res","data","description","length","volumes","images","changeContent","find","item","document","body","addEventListener","watch","classList","add","remove","setTimeout","subprice","__exports__"],"sourceRoot":""}