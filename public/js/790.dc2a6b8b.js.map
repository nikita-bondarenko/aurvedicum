{"version":3,"file":"js/790.dc2a6b8b.js","mappings":"u/BAmFA,MAAM,gBAAEA,EAAF,MAAmBC,IAAUC,EAAAA,EAAAA,KAC7BC,GAASC,EAAAA,EAAAA,IAAI,CACjBC,MAAO,EACPC,KAAM,IAEFC,GAAaH,EAAAA,EAAAA,IAAI,IACjBI,GAAQJ,EAAAA,EAAAA,IAAI,IACZK,EAAU,KACdT,EAAgB,MAAO,eAAgBG,EAAOO,OAAOC,MAAMC,IACzDL,EAAWG,MAAQE,EAAIC,KAAKN,WAC5BC,EAAME,MAAQE,EAAIC,KAAKL,UAIrBM,EAAcC,IAClBd,EAAM,SAAW,gBAAec,IAAM,GAAI,IAAIJ,MAAK,IAAMF,O,OAG3DO,EAAAA,EAAAA,KACE,IAAMb,EAAOO,QACb,IAAMD,KACN,CAAEQ,MAAM,EAAMC,WAAW,I,ghDCnG3B,MAAMC,EAAc,EAEpB","sources":["webpack://client/./src/components/admin/contacts/ListPage.vue","webpack://client/./src/components/admin/contacts/ListPage.vue?c9d1"],"sourcesContent":["<template>\r\n  <div class=\"content__top\">\r\n    <ul class=\"breadcrumbs\">\r\n      <li class=\"breadcrumbs__item\">\r\n        <router-link :to=\"{ name: 'adminMenu' }\" class=\"breadcrumbs__link\">\r\n          Меню\r\n        </router-link>\r\n      </li>\r\n\r\n      <li class=\"breadcrumbs__item\">\r\n        <span class=\"breadcrumbs__link\" disabled> Контакты </span>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <section class=\"catalog content__catalog contact\">\r\n    <router-link\r\n      :to=\"{ name: 'adminAddContact' }\"\r\n      class=\"data-base__button-add\"\r\n    >\r\n      Добавить</router-link\r\n    >\r\n    <BaseSpinner v-if=\"store.isLoading\"></BaseSpinner>\r\n    <p\r\n      class=\"data-base__empty-message\"\r\n      v-if=\"items.length === 0 && !store.isLoading\"\r\n    >\r\n      Список пуст\r\n    </p>\r\n\r\n    <ul class=\"data-base__list\">\r\n      <li v-for=\"item in items\" :key=\"item.id\" class=\"data-base__item\">\r\n        <div class=\"data-base__contact\">\r\n          <h3 class=\"contact__header\">{{ item.header }}</h3>\r\n          <div class=\"contact__info\">\r\n            <ul class=\"contact__list\">\r\n              <li\r\n                v-show=\"limb.value\"\r\n                v-for=\"(limb, index) in item.body\"\r\n                :key=\"index\"\r\n                class=\"contact__item\"\r\n              >\r\n                <span class=\"contact__title\">{{ limb.name }}:</span>\r\n                <span class=\"contact__value\">{{ limb.value }}</span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <span class=\"contact__phone\">{{ item.phone }}</span>\r\n          <router-link\r\n            class=\"data-base__change-button\"\r\n            :to=\"{ name: 'adminChangeContact', params: { id: item.id } }\"\r\n            >Изменить</router-link\r\n          >\r\n          <button\r\n            class=\"data-base__button-del button-del\"\r\n            type=\"button\"\r\n            aria-label=\"Удалить товар\"\r\n            @click.prevent=\"deleteItem(item.id)\"\r\n          >\r\n            <svg width=\"20\" height=\"20\" fill=\"currentColor\">\r\n              <path\r\n                d=\"M17 1L1 17m16 0L1 1\"\r\n                stroke=\"#9D9D9D\"\r\n                stroke-width=\".8\"\r\n              ></path>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <PaginationBase\r\n      v-if=\"pagination.pages > 1\"\r\n      class=\"catalog__pagination\"\r\n      v-model:config=\"config\"\r\n      :pagination=\"pagination\"\r\n    />\r\n  </section>\r\n</template>\r\n<script setup>\r\nimport { ref, watch } from 'vue'\r\nimport useApi from '@/hooks/useApi'\r\nimport { store } from '@/store/store'\r\nimport BaseSpinner from '@/components/small/BaseSpinner.vue'\r\nimport PaginationBase from '@/components/small/PaginationBase.vue'\r\nconst { fetchWithParams, fetch } = useApi()\r\nconst config = ref({\r\n  limit: 6,\r\n  page: 1\r\n})\r\nconst pagination = ref({})\r\nconst items = ref([])\r\nconst getData = () => {\r\n  fetchWithParams('get', 'api/contacts', config.value).then((res) => {\r\n    pagination.value = res.data.pagination\r\n    items.value = res.data.items\r\n  })\r\n}\r\n\r\nconst deleteItem = (id) => {\r\n  fetch('delete', `api/contacts/${id}`, {}, '').then(() => getData())\r\n}\r\n\r\nwatch(\r\n  () => config.value,\r\n  () => getData(),\r\n  { deep: true, immediate: true }\r\n)\r\n</script>\r\n<style lang=\"scss\">\r\n@import '@/styles/data.scss';\r\n</style>\r\n","import script from \"./ListPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ListPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ListPage.vue?vue&type=style&index=0&id=71e1a4a9&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["fetchWithParams","fetch","useApi","config","ref","limit","page","pagination","items","getData","value","then","res","data","deleteItem","id","watch","deep","immediate","__exports__"],"sourceRoot":""}