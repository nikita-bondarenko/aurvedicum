"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[314],{6573:function(e,t,r){r.d(t,{Z:function(){return p}});var a=r(3396),o=r(7139);const l={class:"form__label"},n={class:"form__value"},i={key:0,class:"form__error"};function s(e,t,r,s,u,d){return(0,a.wg)(),(0,a.iD)("label",l,[(0,a.WI)(e.$slots,"default"),(0,a._)("span",n,(0,o.zw)(e.labelText),1),e.errorText?((0,a.wg)(),(0,a.iD)("span",i,(0,o.zw)(e.errorText),1)):(0,a.kq)("",!0)])}var u=(0,a.aZ)({props:["labelText","errorText"],setup(){return{}}}),d=r(89);const m=(0,d.Z)(u,[["render",s]]);var c=m,p={props:["placeholderText","modelValue","labelText","errorText"],emits:["update:modelValue"],components:{FormField:c},computed:{value:{get(){return this.modelValue},set(e){return this.$emit("update:modelValue",e),e}}}}},2994:function(e,t,r){r.d(t,{Z:function(){return d}});var a=r(3396),o=r(7139),l=r(9242);const n={class:"form__list"},i=["onClick"];var s={__name:"AdminFormList",props:["header","buttonText","items","isSublist"],emits:["update:items"],setup(e,{emit:t}){const r=e,s=()=>{const e=r.items,a=r.items.length>0?r.items.reduce(((e,t)=>t.id>e?t.id:e),1)+1:1;"раздел"===r.buttonText?e.push({id:a,body:[]}):e.push({id:a}),t("update:items",e)};return 0===r.items.length&&s(),(t,r)=>((0,a.wg)(),(0,a.iD)("fieldset",{class:(0,o.C_)(["form__block form__block--admin",{description__block:"обзац"===e.buttonText}])},[e.header?((0,a.wg)(),(0,a.iD)("h2",{key:0,class:(0,o.C_)(["data-base__title",{recomend__name:e.isSublist}])},(0,o.zw)(e.header),3)):(0,a.kq)("",!0),(0,a._)("ul",n,[(0,a.WI)(t.$slots,"default")]),"Бренд"!==e.header?((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",onClick:(0,l.iM)(s,["prevent"]),class:"form__button-add"}," Добавить "+(0,o.zw)(e.buttonText),9,i)):(0,a.kq)("",!0)],2))}};const u=s;var d=u},3214:function(e,t,r){r.d(t,{Z:function(){return p}});var a=r(3396),o=r(9242),l=r(4920);const n={class:"form__item"},i={class:"form__item-body form__danger"},s=["onClick"],u=(0,a._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,a._)("path",{d:"M17 1L1 17m16 0L1 1",stroke:"#9D9D9D","stroke-width":".8"})],-1),d=[u];var m={__name:"AdminFormListItem",props:["item","items","isRecomend"],emits:["update:items"],setup(e,{emit:t}){const r=e,{deleteImage:u}=(0,l.Z)(),m=()=>{r.item.filename&&u(r.item.filename);const e=r.items.filter((e=>e.id!==r.item.id));t("update:items",e)},c=e=>{e.target.parentNode.classList.add("form__danger--active")},p=e=>{e.target.parentNode.classList.remove("form__danger--active")};return(t,r)=>((0,a.wg)(),(0,a.iD)("li",n,[(0,a._)("div",i,[e.items.length>1||e.isRecomend?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:(0,o.iM)(m,["prevent"]),onMouseenter:c,onMouseleave:p,class:"data-base__button-del button-del",type:"button","aria-label":"Удалить елемент"},d,40,s)):(0,a.kq)("",!0),(0,a.WI)(t.$slots,"default")])]))}};const c=m;var p=c},4314:function(e,t,r){r.d(t,{Z:function(){return g}});var a=r(3396),o=r(9242),l=r(7139);const n={class:"form__block form__block--admin"},i=(0,a._)("h2",{class:"data-base__title"},"Главный заголовок *",-1),s={class:"form__button-group"},u={key:0,class:"form__error-block"},d=(0,a._)("p",null,"Заполните все необходимые поля и попробуйте еще раз.",-1);function m(e,t,r,m,c,p){const _=(0,a.up)("FormInput"),f=(0,a.up)("FormTextarea"),b=(0,a.up)("AdminFormListItem"),x=(0,a.up)("AdminFormList");return(0,a.wg)(),(0,a.iD)("form",{action:"",class:"data-base__form form article",onSubmit:t[3]||(t[3]=(0,o.iM)((t=>e.$emit("submit")),["prevent"]))},[(0,a._)("fieldset",n,[i,(0,a.Wm)(_,{class:"article__main-header",modelValue:e.formData.header,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData.header=t),modelModifiers:{trim:!0},"placeholder-text":"Введите текст","error-text":e.error.header},null,8,["modelValue","error-text"])]),(0,a.Wm)(x,{header:"","button-text":"раздел",items:e.formData.body,"onUpdate:items":t[2]||(t[2]=t=>e.formData.body=t)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.formData.body,(r=>((0,a.wg)(),(0,a.j4)(b,{items:e.formData.body,"onUpdate:items":t[1]||(t[1]=t=>e.formData.body=t),item:r,key:r.id},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{modelValue:r.header,"onUpdate:modelValue":e=>r.header=e,modelModifiers:{trim:!0},"label-text":"Заголовок раздела","placeholder-text":"Введите текст"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(x,{class:"form__sublist",header:"","button-text":"обзац",items:r.body,"onUpdate:items":e=>r.body=e},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.body,(e=>((0,a.wg)(),(0,a.j4)(b,{items:r.body,"onUpdate:items":e=>r.body=e,item:e,key:e.id},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{"placeholder-text":"Текст",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,modelModifiers:{trim:!0}},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["items","onUpdate:items","item"])))),128))])),_:2},1032,["items","onUpdate:items"])])),_:2},1032,["items","item"])))),128))])),_:1},8,["items"]),(0,a._)("div",s,[(0,a._)("button",{class:(0,l.C_)(["button button--primery",{"spinner-button-small":e.store.isSaveLoading}])},(0,l.zw)(e.btnPrimeText),3)]),e.store.isSaveLoadingFailed?((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("h4",null,"Не удалось "+(0,l.zw)(e.btnPrimeText)+"!",1),d])):(0,a.kq)("",!0)],32)}var c=r(9556),p=r(6793),_=r(3214),f=r(2994),b=r(533),x=r(4460),v=(0,a.aZ)({emits:["update:data","submit"],props:["error","data","btnPrimeText"],components:{FormTextarea:b.Z,FormInput:c.Z,AdminFormListItem:_.Z,AdminFormList:f.Z},data(){return{store:x.h}},setup(e,{emit:t}){return(0,p.cI)(e,{emit:t})}}),h=r(89);const w=(0,h.Z)(v,[["render",m]]);var g=w},9556:function(e,t,r){r.d(t,{Z:function(){return c}});r(6699);var a=r(3396),o=r(9242);const l=["type","placeholder"];function n(e,t,r,n,i,s){const u=(0,a.up)("FormField");return(0,a.wg)(),(0,a.j4)(u,{"label-text":e.labelText,"error-text":e.errorValue},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("input",{onInput:t[0]||(t[0]=(...t)=>e.updateErrorStatus&&e.updateErrorStatus(...t)),class:"form__input","onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),type:e.placeholderText.includes("телефон")?"tel":"text",placeholder:e.placeholderText},null,40,l),[[o.YZ,e.value]])])),_:1},8,["label-text","error-text"])}var i=r(6573),s=r(4870),u=(0,a.aZ)({mixins:[i.Z],setup(e){const t=(0,s.iH)(),r=r=>{t.value=r.target.value.trim()?null:e.errorText};return(0,a.YP)((()=>e.errorText),(e=>{t.value=e})),{errorValue:t,updateErrorStatus:r}}}),d=r(89);const m=(0,d.Z)(u,[["render",n]]);var c=m},533:function(e,t,r){r.d(t,{Z:function(){return c}});var a=r(3396),o=r(9242);const l=["placeholder"];function n(e,t,r,n,i,s){const u=(0,a.up)("FormField");return(0,a.wg)(),(0,a.j4)(u,{"label-text":e.labelText,"error-text":e.errorValue},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("textarea",{onInput:t[0]||(t[0]=(...t)=>e.updateErrorStatus&&e.updateErrorStatus(...t)),class:"form__input form__input--area","onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),placeholder:e.placeholderText},null,40,l),[[o.nr,e.value]])])),_:1},8,["label-text","error-text"])}var i=r(6573),s=r(4870),u=(0,a.aZ)({mixins:[i.Z],setup(e){const t=(0,s.iH)(),r=r=>{t.value=r.target.value.trim()?null:e.errorText};return(0,a.YP)((()=>e.errorText),(e=>{t.value=e})),{updateErrorStatus:r,errorValue:t}}}),d=r(89);const m=(0,d.Z)(u,[["render",n]]);var c=m}}]);
//# sourceMappingURL=314.501e6300.js.map